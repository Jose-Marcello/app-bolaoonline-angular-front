<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
  <mat-card *ngFor="let campeonato of campeonatosDisponiveis" class="p-4 border border-gray-100 shadow-sm">
    
    <div class="flex items-center justify-between mb-4">
      <div class="flex items-center">
        <img [src]="getCampeonatoLogo(campeonato.nome)" class="w-14 h-14 rounded-full mr-4 object-cover border">
        <div>
          <mat-card-title class="text-base font-bold">{{ campeonato.nome }}</mat-card-title>
          <div [class]="campeonato.aderidoPeloUsuario ? 'text-green-600' : 'text-orange-600'" class="text-[10px] font-bold uppercase">
            {{ campeonato.aderidoPeloUsuario ? '● JOGANDO' : '● NÃO ADERIDO' }}
          </div>
        </div> 
      </div>
    </div>

    <div *ngIf="campeonatoTotais[campeonato.id]" class="bg-slate-50 p-2 rounded border mb-4 text-[11px]">
      <div class="flex justify-between">
        <span>APOSTADORES: <strong>{{ campeonatoTotais[campeonato.id].numeroDeApostadores }}</strong></span>
        <span>TOTAL: <strong class="text-blue-700">{{ campeonatoTotais[campeonato.id].valorTotalArrecadado | currency:'BRL' }}</strong></span>
      </div>
    </div>
    
    <div class="flex flex-col space-y-2">
      
      <div *ngIf="campeonato.rodadasEmAposta?.length >= 0">
        <button mat-flat-button class="w-full text-sm font-bold bg-green-600 text-white" 
                (click)="navegarParaApostasRodada(campeonato.id, campeonato.rodadasEmAposta[0]?.id)">
          <mat-icon>edit_note</mat-icon>
          RODADA(S) EM APOSTA ({{ campeonato.rodadasEmAposta?.length || 0 }})
        </button>
      </div>
      
      <div *ngIf="campeonato.rodadasCorrentes?.length >= 0">
        <button mat-flat-button class="w-full text-sm font-bold bg-blue-600 text-white" 
                (click)="verRodadasCorrentes(campeonato.id)">
          <mat-icon>sports_soccer</mat-icon>
          RODADA(S) CORRENTES ({{ campeonato.rodadasCorrentes?.length || 0 }})
        </button>
      </div>

      <div *ngIf="campeonato.rodadasFinalizadas?.length >= 0">
        <button mat-stroked-button class="w-full text-sm font-bold border-slate-300 text-slate-600" 
                (click)="verRodadasFinalizadas(campeonato.id)">
          <mat-icon>history</mat-icon>
          RODADAS FINALIZADAS ({{ campeonato.rodadasFinalizadas?.length || 0 }})
        </button>
      </div>

      <hr class="my-1 border-slate-100">

      <button *ngIf="isLoggedIn && !campeonato.aderidoPeloUsuario" 
              mat-raised-button color="warn" class="w-full font-bold" 
              (click)="entrarEmCampeonato(campeonato.id)">
        <mat-icon>add_shopping_cart</mat-icon> ADERIR AO CAMPEONATO
      </button>

      <button *ngIf="!isLoggedIn" 
              mat-raised-button color="primary" class="w-full font-bold" 
              routerLink="/auth/register">
        REGISTRE-SE PARA JOGAR
      </button>
    </div>
  </mat-card>
</div>