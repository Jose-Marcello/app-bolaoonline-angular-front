<div class="min-h-screen dashboard-root">
  <main class="app-container-moldura mx-auto">
    <div class="p-4 space-y-6">

      <div class="caixa-saldo-destaque">
        <div class="flex flex-col">
          <span class="label-saldo-topo-white">Saldo Dispon√≠vel</span>
          <span class="valor-saldo-verde">{{ (apostadorSaldo || 0) | currency:'BRL' }}</span>
        </div>
        <div class="flex gap-2">
          <button (click)="navigateToDepositar()" class="btn-financeiro btn-pix-blue">+ PIX</button>
          <button (click)="informarEmDesenvolvimento()" class="btn-financeiro btn-sacar-gray">SACAR</button>
        </div>
      </div>

      <nav class="menu-navegacao-central" *ngIf="campeonatosDisponiveis?.length > 0">
        <div class="opcao-menu-item" (click)="navegarParaApostasRodada(campeonatosDisponiveis[0].id)">
          <div class="circulo-wrapper icon-apostar"><mat-icon>sports_soccer</mat-icon></div>
          <span class="label-menu">APOSTAR</span>
        </div>
        <div class="opcao-menu-item" (click)="verRodadasCorrentes(campeonatosDisponiveis[0].id)">
          <div class="circulo-wrapper icon-resultados"><mat-icon>leaderboard</mat-icon></div>
          <span class="label-menu">RESULTADOS</span>
        </div>
        <div class="opcao-menu-item" (click)="verRodadasFinalizadas(campeonatosDisponiveis[0].id)">
          <div class="circulo-wrapper icon-historico"><mat-icon>history</mat-icon></div>
          <span class="label-menu">HIST√ìRICO</span>
        </div>
      </nav>

      <section class="secao-campeonatos-grafite">
        <div class="header-secao-fluxo px-5 mb-2 flex justify-between items-center">
          <h3 class="titulo-grafite-destaque">CAMPEONATOS ATIVOS</h3>
          <div class="fluxo-hint"><span>arraste</span> <mat-icon>arrow_forward</mat-icon></div>
        </div>

        <div class="slider-viewport-scroll" #sliderViewport
             (mousedown)="startDragging($event)" (mouseleave)="stopDragging()" 
             (mouseup)="stopDragging()" (mousemove)="moveEvent($event)">
          
          <div class="slider-trilho-track">
            <article *ngFor="let camp of campeonatosDisponiveis" class="card-campeonato-foco">
              
              <div class="card-inner-header">
                <div class="logo-box-camp">
                  <img [src]="getCampeonatoLogo(camp.nome)" class="img-camp-logo">
                </div>
                <div class="title-box-camp">
                  <h2 class="nome-camp-ouro-normal">{{ camp.nome }}</h2>
                  <span class="premio-txt-fake">
                    PR√äMIO ACUMULADO: {{ (campeonatoTotais[camp.id]?.valorArrecadado || 0) | currency:'BRL' }}
                  </span>
                </div>
              </div>

              <div class="painel-dashboard-interno p-4">
                <div class="status-adesao-line text-center mb-4">
                  <span [class]="camp.aderidoPeloUsuario ? 'stamp green' : 'stamp orange'">
                    {{ camp.aderidoPeloUsuario ? 'ADES√ÉO CONFIRMADA üèÜ' : 'ADES√ÉO PENDENTE' }}
                  </span>
                </div>

                <div class="grid-metricas-dashboard">
                  <div class="rect azul"><small>RODADAS</small><b>{{ camp.numRodadas || 0 }}</b></div>
                  <div class="rect cinza"><small>JOGADAS</small><b>{{ camp.rodadasFinalizadas?.length || 0 }}</b></div>
                  <div class="rect verde"><small>ATIVAS</small><b>{{ camp.rodadasCorrentes?.length || 0 }}</b></div>
                  <div class="rect vermelho"><small>FALTAM</small><b>{{ (camp.numRodadas || 0) - (camp.rodadasFinalizadas?.length || 0) }}</b></div>
                  <div class="rect ouro"><small>NA RODADA</small><b>{{ camp.rodadasEmAposta?.length || 0 }}</b></div>
                  
                  <div class="rect indigo">
                    <small>APOSTADORES</small>
                    <b>{{ campeonatoTotais[camp.id]?.quantApostadoresVinculados || 0 }}</b>
                  </div>
                </div>

                <div class="mt-4 p-3 bg-slate-800/50 rounded-xl border border-slate-700">
                  <div class="flex justify-between items-center">
                    <span class="text-[9px] text-slate-400 font-bold uppercase">Pr√™mio p/ Rodada (Avulso):</span>
                    <span class="text-xs text-green-400 font-black">
                        {{ (campeonatoTotais[camp.id]?.premioAvulsoRodada || 0) | currency:'BRL' }}
                    </span>
                  </div>
                </div>
              </div>

              <div class="px-4 pb-4" *ngIf="!camp.aderidoPeloUsuario">
                <button (click)="abrirModalAdesao(camp)" class="btn-aderir-camp">ADERIR AO CAMPEONATO</button>
              </div>
            </article>
          </div>
        </div>
      </section>

      <footer class="marketing-footer-area">
        <img src="assets/marketing/parceiros/logo-espaco-mar.jpeg" class="logo-mkt-final">
        <div class="banner-promocional" *ngIf="fotoAtual">
          <img [src]="fotoAtual" class="img-banner-mkt">
        </div>
      </footer>
    </div>
  </main>
</div>