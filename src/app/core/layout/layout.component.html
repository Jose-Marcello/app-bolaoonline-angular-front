<mat-sidenav-container class="sidenav-container">
  
  <mat-sidenav #sidenav mode="over" [(opened)]="isSidenavOpen" class="w-64 bg-gray-500 text-white shadow-lg">
    <mat-nav-list>
      <div class="p-6 border-b border-gray-600">
        <h2 class="text-xl font-bold text-blue-400">BOLÃO ONLINE</h2>
      </div>

      <a mat-list-item routerLink="/dashboard" (click)="toggleSidenav()" class="flex items-center py-3 px-4 hover:bg-gray-600 rounded-lg">
        <mat-icon class="mr-3 text-primary-300">dashboard</mat-icon>
        Dashboard
      </a>
      
      <a mat-list-item routerLink="/dashboard/perfil" (click)="toggleSidenav()" 
         [ngClass]="{'opacity-50': !isAuthenticated}" class="flex items-center py-3 px-4 hover:bg-gray-600 rounded-lg">
        <mat-icon class="mr-3 text-primary-300">person</mat-icon>
        Perfil
      </a>

      <a mat-list-item routerLink="/dashboard/aposta-rodada" (click)="toggleSidenav()" class="flex items-center py-3 px-4 hover:bg-gray-600 rounded-lg">
        <mat-icon class="mr-3 text-primary-300">sports_soccer</mat-icon>
        Aposta Rodada
      </a>

      <a mat-list-item routerLink="/dashboard/meus-palpites" (click)="toggleSidenav()" class="flex items-center py-3 px-4 hover:bg-gray-600 rounded-lg">
        <mat-icon class="mr-3 text-primary-300">history</mat-icon>
        Meus Palpites
      </a>

      <a mat-list-item routerLink="/dashboard/financeiro" (click)="toggleSidenav()" class="flex items-center py-3 px-4 hover:bg-gray-600 rounded-lg">
        <mat-icon class="mr-3 text-primary-300">account_balance_wallet</mat-icon>
        Financeiro
      </a>

      <a mat-list-item routerLink="/dashboard/ranking" (click)="toggleSidenav()" class="flex items-center py-3 px-4 hover:bg-gray-600 rounded-lg">
        <mat-icon class="mr-3 text-primary-300">leaderboard</mat-icon>
        Ranking
      </a>

      <a mat-list-item routerLink="/dashboard/regrasDoBolao" (click)="toggleSidenav()" class="flex items-center py-3 px-4 hover:bg-gray-600 rounded-lg">
        <mat-icon class="mr-3 text-primary-300">gavel</mat-icon>
        Regras do Bolão
      </a>

      <mat-divider class="my-4 border-gray-600"></mat-divider>

      <button *ngIf="isAuthenticated" mat-list-item (click)="onLogout()" class="flex items-center py-3 px-4 rounded-lg hover:bg-red-700">
        <mat-icon class="mr-3 text-red-300">logout</mat-icon>
        Sair
      </button>

      <a *ngIf="!isAuthenticated" mat-list-item routerLink="/auth/login" (click)="toggleSidenav()" class="flex items-center py-3 px-4 rounded-lg hover:bg-blue-700">
        <mat-icon class="mr-3 text-blue-300">login</mat-icon>
        Entrar / Cadastrar
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-toolbar class="bg-gray-600 text-white shadow-md flex justify-between">
    <div class="flex items-center">
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <mat-icon class="text-xl ml-4 mr-2">sports_soccer</mat-icon>
      <span class="text-sm font-bold uppercase tracking-wider hidden sm:inline">Bolão Online</span>
    </div>
    
    <div class="flex items-center">
      <span class="text-sm mr-4 font-medium italic">
        {{ isAuthenticated ? apostadorNome : 'VISITANTE (MODO CONSULTA)' }}
      </span>
      
      <div class="h-6 w-[1px] bg-gray-400 mr-4"></div>

      <button *ngIf="isAuthenticated" mat-button (click)="onLogout()" class="text-red-300">
        <mat-icon class="mr-1 scale-75">logout</mat-icon>
        <span class="text-[11px] font-black uppercase">Sair</span>
      </button>

      <button *ngIf="!isAuthenticated" mat-button routerLink="/auth/login" class="text-blue-300 font-black uppercase text-[11px]">
        <mat-icon class="mr-1 scale-75">login</mat-icon>
        Entrar
      </button>
    </div>
  </mat-toolbar>

  <div class="flex-grow p-4 bg-gray-800 min-h-screen">
    <div *ngIf="!isAuthenticated" class="bg-blue-900/50 text-blue-200 text-[10px] p-2 mb-4 rounded text-center uppercase font-bold border border-blue-500/30">
      Você está navegando como visitante. Algumas funções exigem login.
    </div>
    
    <router-outlet></router-outlet>
  </div>
</mat-sidenav-container>