<div class="h-screen w-screen flex items-center justify-center bg-white">
  <div class="max-w-md w-full p-8 rounded-lg shadow-xl space-y-6 text-black mx-auto">
    <div class="text-center">
      <h2 class="text-3xl font-extrabold text-gray-900">
        Redefinir Senha
      </h2>
      <p class="mt-2 text-center text-xl font-extrabold text-gray-700">
        Por favor, insira e confirme sua nova senha abaixo.
      </p>
    </div>

    <!--
    <div *ngIf="message" [ngClass]="{'bg-green-100 border-green-400 text-green-700': isSuccessMessage(), 'bg-red-100 border-red-400 text-red-700': !isSuccessMessage()}"
      class="px-4 py-3 rounded relative border mt-2">
      {{ message }}
    </div>
    -->
    
    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()" *ngIf="!isLoading">
      <div class="rounded-md shadow-sm -space-y-px">
        <div>
          <input id="newPassword" name="newPassword" type="password" formControlName="newPassword"
            class="appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-gray-50 focus:outline-none focus:ring-bolao-green-dark focus:border-bolao-green-dark focus:z-10 sm:text-sm rounded-t-md"
            placeholder="Nova Senha">
        </div>
        <div>
          <input id="confirmPassword" name="confirmPassword" type="password" formControlName="confirmPassword"
            class="appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-gray-50 focus:outline-none focus:ring-bolao-green-dark focus:border-bolao-green-dark focus:z-10 sm:text-sm rounded-b-md"
            placeholder="Confirmar Senha">
        </div>
      </div>

      <div *ngIf="resetPasswordForm.get('newPassword')?.invalid && (resetPasswordForm.get('newPassword')?.dirty || resetPasswordForm.get('newPassword')?.touched)"
        class="text-red-500 text-sm mt-1">
        A senha precisa ter no mínimo 6 caracteres.
      </div>
      <div *ngIf="resetPasswordForm.hasError('mismatch') && resetPasswordForm.get('confirmPassword')?.touched"
        class="text-red-500 text-sm mt-1">
        As senhas não coincidem.
      </div>

      <div class="mt-6">
        <button type="submit" [disabled]="resetPasswordForm.invalid"
          class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-bolao-green-dark hover:bg-bolao-green-dark/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-bolao-green-dark">
          Redefinir Senha
        </button>
      </div>
    </form>

    <div *ngIf="isLoading" class="text-center mt-6">
      <p>Redefinindo sua senha...</p>
    </div>

    <div class="text-center text-sm mt-6">
      <a routerLink="/login" class="font-medium text-blue-700 hover:text-blue-900">
        Lembrou da senha? Faça login.
      </a>
    </div>

    <div class="relative flex items-center w-full">
      <input id="newPassword" name="newPassword" [type]="hidePassword ? 'password' : 'text'" formControlName="newPassword"
       class="appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 bg-gray-50 focus:outline-none focus:ring-bolao-green-dark focus:border-bolao-green-dark focus:z-10 sm:text-sm rounded-md"
       placeholder="Nova Senha">

       <button type="button" (click)="togglePasswordVisibility()" 
          class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-bolao-green-light">
          <i class="material-icons">{{ hidePassword ? 'visibility_off' : 'visibility' }}</i>
       </button>
    </div>

  </div>
  
</div>